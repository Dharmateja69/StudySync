const Fs = require('fs');
const Pdf = require('./lib/pdf-parse.js');

module.exports = Pdf;

// ‚ùå Disable internal debug mode completely
let isDebugMode = false; // Changed from: !module.parent

// For testing purpose (this block is now never executed)
if (isDebugMode) {
    let PDF_FILE = 'node_modules/pdf-parse/test/data/rest_api_intermediate certificate.pdf';
    let dataBuffer = Fs.readFileSync(PDF_FILE);
    Pdf(dataBuffer).then(function (data) {
        Fs.writeFileSync(`${PDF_FILE}.txt`, data.text, {
            encoding: 'utf8',
            flag: 'w'
        });
        debugger;
    }).catch(function (err) {
        debugger;
    });
}
